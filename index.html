<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>American Pronunciation — Firebase</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ... نمط CSS كما هو في الشيفرة الأصلية ... */
  </style>
</head>
<body>
  <div class="app">
    <!-- Sidebar: Folders -->
    <!-- ...المحتوى كما هو... -->
  </div>

  <!-- Modals -->
  <!-- ...المحتوى كما هو... -->

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
  
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // ==========================
    // Firebase Configuration
    // ==========================
    const firebaseConfig = {
      apiKey: "AIzaSyC99dnKUOSuifzQtheeB-TUAZ6ACM3unJ0",
      authDomain: "gateway-english.firebaseapp.com",
      projectId: "gateway-english",
      storageBucket: "gateway-english.firebasestorage.app",
      messagingSenderId: "132452586371",
      appId: "1:132452586371:web:9a78f470377aa3d641dcb6",
      measurementId: "G-9T2SRL2LQE"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
    const storage = firebase.storage();

    // ==========================
    // باقي الكود كما هو بدون تعديل
    // ==========================

    const DEFAULT_DATA = {
      folders: [
        {
          id: crypto.randomUUID(),
          name: 'Basics',
          items: [
            { id: crypto.randomUUID(), text: 'Hello!', note: 'Greeting', img: '', repeat: 1 },
            { id: crypto.randomUUID(), text: 'How are you?', note: 'Small talk', img: '', repeat: 1 },
          ],
          children: [
            {
              id: crypto.randomUUID(),
              name: 'Greetings',
              items: [
                { id: crypto.randomUUID(), text: 'Good morning!', note: 'Morning greeting', img: '', repeat: 1 }
              ],
              children: []
            }
          ]
        },
        {
          id: crypto.randomUUID(),
          name: 'Food',
          items: [
            { id: crypto.randomUUID(), text: 'An apple a day.', note: 'Proverb', img: '', repeat: 1 }
          ],
          children: []
        }
      ]
    };

    let DATA = JSON.parse(JSON.stringify(DEFAULT_DATA));
    let currentFolderId = DATA.folders[0]?.id || null;
    let pendingDelete = null;
    let expandedFolders = new Set();
    let editingItemId = null;
    let mediaStream, mediaRecorder, chunks = [], lastBlob = null;

    // Authentication, Data Management, Event Listeners, Utility functions
    // ... كما في الملف الأصلي بدون تعديل ...

  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</body>
</html>
